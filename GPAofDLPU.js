// Generated by CoffeeScript 1.7.1

/*
 *  Created by William on 2/23/14.
 */


/*
 * Copy and paste the script in comment into your console of browser.
  (function loadScript(){
    var script = document.createElement("script")
    script.type = "text/javascript";
    script.src = 'https://raw.github.com/coppercash/GPAofDLPU/master/GPAofDLPU.js';
    script.onload = function(){ runOnLoad(); };
    document.getElementsByTagName("head")[0].appendChild(script);
    window.alert('GPAofDLPU is being loading. It costs less than 1 min.')
  })();
 */

(function() {
  var Course, getReportTable, runOnLoad;

  runOnLoad = function() {
    var courses, json, row, tableElement, _i, _len;
    window.alert('GPAofDLPU is loaded and installed well.');
    tableElement = getReportTable();
    for (_i = 0, _len = tableElement.length; _i < _len; _i++) {
      row = tableElement[_i];
      if (Course.isRowACourse(row)) {
        courses = new Course(row);
      }
    }
    json = JSON.stringify(courses);
    return console.log(json);
  };

  getReportTable = function() {
    return document.getElementsByClassName('tableborder');
  };

  Course = (function() {
    function Course(row) {
      var cell, index, _i, _ref;
      for (index = _i = 0, _ref = row.length; 0 <= _ref ? _i < _ref : _i > _ref; index = 0 <= _ref ? ++_i : --_i) {
        cell = row[index];
        switch (index) {
          case 0:
            this.semester = cell.text;
            break;
          case 1:
            this.id = cell.text;
            break;
          case 2:
            this.name = cell.text;
            break;
          case 3:
            this.type = cell.text;
            break;
          case 4:
            this.period = cell.text;
            break;
          case 5:
            this.credit = cell.text;
            break;
          case 6:
            this.category = cell.text;
            break;
          case 7:
            this.grade = cell.text;
            break;
          case 8:
            this.isDegree = cell.text;
        }
      }
    }

    Course.isRowACourse = function(row) {
      return true;
    };

    Course.prototype.toJSON = function() {
      return {
        'a': this.semester,
        'a': this.id,
        'a': this.name,
        'a': this.type,
        'a': this.period,
        'a': this.credit,
        'a': this.category,
        'a': this.grade,
        'a': this.isDegree
      };
    };

    return Course;

  })();

}).call(this);

//# sourceMappingURL=GPAofDLPU.map
